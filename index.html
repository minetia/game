<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEXUS SECRET LOUNGE</title>
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;700&family=Pretendard:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* ğŸ‘  CYBERPUNK LOUNGE THEME ğŸ‘  */
        :root {
            --bg-dark: #0a000a; /* ì•„ì£¼ ì–´ë‘ìš´ ë³´ë¼ìƒ‰ */
            --glass: rgba(30, 0, 30, 0.7);
            --glass-border: 1px solid rgba(255, 0, 100, 0.2);
            
            --neon-pink: #ff007f;   /* ë©”ì¸ ì»¬ëŸ¬: í•«í•‘í¬ */
            --neon-purple: #bd00ff; /* ì„œë¸Œ ì»¬ëŸ¬: í¼í”Œ */
            --neon-blue: #00f3ff;   /* í¬ì¸íŠ¸ ì»¬ëŸ¬ */
            --neon-green: #00ff9d;  /* ìˆ˜ìµ ì»¬ëŸ¬ */
            
            --text-main: #ffffff;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background-color: var(--bg-dark); 
            color: var(--text-main); 
            font-family: 'Pretendard', sans-serif;
            height: 100dvh; width: 100vw; overflow: hidden; 
            display: flex; flex-direction: column;
            
            /* ê´€ëŠ¥ì ì¸ ë°°ê²½ ê·¸ë¼ë””ì–¸íŠ¸ */
            background: linear-gradient(135deg, #1a001a, #2e003e, #1a001a);
            background-size: 400% 400%;
            animation: breatheBG 10s ease infinite;
        }

        @keyframes breatheBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

        /* [1] ìƒë‹¨ í—¤ë” */
        header {
            height: 45px; 
            background: var(--glass); 
            backdrop-filter: blur(10px);
            border-bottom: var(--glass-border); 
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 15px; flex-shrink: 0; z-index: 10;
        }
        .seed-info { font-size: 11px; color: var(--neon-pink); font-family: 'Rajdhani', sans-serif; letter-spacing: 1px; }
        .seed-val { font-size: 16px; font-weight: 700; color: #fff; text-shadow: 0 0 10px rgba(255,0,127,0.5); font-family: 'Rajdhani', sans-serif; margin-left:5px; }
        .pnl-rate { font-size: 12px; font-weight: bold; margin-left: 5px; }
        .live-price { font-size: 18px; font-weight: 800; color: var(--neon-blue); text-shadow: 0 0 10px var(--neon-blue); font-family: 'Rajdhani', sans-serif; }

        /* [2] ì‹œìŠ¤í…œ ë²„íŠ¼ ì¡´ */
        .system-zone {
            height: 45px; background: rgba(0,0,0,0.4); border-bottom: var(--glass-border);
            display: flex; gap: 8px; padding: 5px 15px; align-items: center; flex-shrink: 0;
        }
        .sys-btn {
            flex: 1; height: 32px; border-radius: 6px; border: var(--glass-border);
            font-weight: bold; font-size: 11px; cursor: pointer;
            display: flex; align-items: center; justify-content: center; gap: 6px;
            color: #fff; background: rgba(255, 0, 127, 0.1); transition: 0.3s;
        }
        .sys-btn:hover { background: rgba(255, 0, 127, 0.3); box-shadow: 0 0 10px var(--neon-pink); }
        
        #btn-auto.auto-on { 
            background: linear-gradient(90deg, #ff007f, #bd00ff); border: none; 
            box-shadow: 0 0 15px rgba(255, 0, 127, 0.6); animation: heartbeat 1.5s infinite; 
        }

        /* [3] ë ˆì´ë”” ì¡´ (Lady Zone - êµ¬ Baboon Zone) */
        #lady-zone {
            height: 90px; 
            background: rgba(20, 0, 20, 0.3); 
            display: flex; justify-content: space-around; align-items: flex-end;
            padding-bottom: 10px; border-bottom: var(--glass-border);
            flex-shrink: 0; position: relative;
        }
        .lady-wrapper { position: relative; width: 25%; text-align: center; }
        .lady-face { 
            font-size: 36px; transition: 0.2s; cursor: pointer; 
            filter: drop-shadow(0 0 8px rgba(255, 0, 127, 0.6));
        }
        .lady-face:active { transform: scale(0.9) rotate(-5deg); }
        .lady-label { font-size: 10px; color: #ffcae5; font-weight: bold; margin-top: 4px; letter-spacing: -0.5px; }
        
        /* ë§í’ì„  (Pink Style) */
        .speech-bubble {
            position: absolute; bottom: 55px; left: 50%; transform: translateX(-50%) scale(0);
            background: linear-gradient(45deg, var(--neon-pink), var(--neon-purple)); 
            color: #fff; padding: 5px 10px; border-radius: 12px; border-bottom-left-radius: 0;
            font-size: 11px; font-weight: bold; white-space: nowrap; opacity: 0; transition: 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 5px 15px rgba(255,0,127,0.4); pointer-events: none; z-index: 100;
        }
        .speaking { transform: translateX(-50%) scale(1); opacity: 1; }
        
        /* 10% ìˆ˜ìµ ì‹œ í„°ì§€ëŠ” ì´í™íŠ¸ */
        @keyframes heartPop { 0% { transform: scale(0); opacity: 0; } 50% { transform: scale(1.2); opacity: 1; } 100% { transform: scale(1); opacity: 0; } }
        .effect-pop { position: absolute; font-size: 50px; pointer-events: none; animation: heartPop 1s forwards; z-index: 999; }

        /* [4] ì°¨íŠ¸ */
        #tv_chart_container { flex: 1; width: 100%; background: #000; min-height: 0; border-bottom: var(--glass-border); }

        /* [5] ì±„íŒ…ë°© (ì‹œí¬ë¦¿ ë©”ì‹ ì €) */
        .chat-room {
            height: 140px; background: rgba(0,0,0,0.8); 
            padding: 10px; overflow-y: auto; display: flex; flex-direction: column; gap: 8px;
            flex-shrink: 0; border-top: 1px solid #333;
        }
        .msg { display: flex; align-items: flex-end; gap: 8px; animation: slideUp 0.3s; }
        .avatar { font-size: 22px; filter: drop-shadow(0 0 5px rgba(255,255,255,0.3)); }
        .bubble { 
            padding: 8px 12px; border-radius: 12px; font-size: 12px; max-width: 85%;
            font-weight: 500; line-height: 1.4; color: #fff;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        
        /* ë ˆì´ë”” (AI) ë©”ì‹œì§€ */
        .lady-msg .bubble { 
            background: linear-gradient(135deg, rgba(255, 0, 127, 0.2), rgba(189, 0, 255, 0.2)); 
            border: 1px solid var(--neon-pink); 
            box-shadow: 0 0 8px rgba(255, 0, 127, 0.1);
            color: #ffcae5;
        }
        
        /* ì‹œìŠ¤í…œ ë©”ì‹œì§€ */
        .sys-msg { justify-content: center; } 
        .sys-msg .bubble { background: rgba(255, 255, 255, 0.1); border-radius: 20px; font-size: 11px; color: #aaa; }

        /* [6] ì»¨íŠ¸ë¡¤ ë²„íŠ¼ (ë„¤ì˜¨) */
        .controls {
            height: 60px; background: rgba(10,0,10,0.95); padding: 5px;
            display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 5px;
            border-top: var(--glass-border); flex-shrink: 0;
            padding-bottom: max(5px, env(safe-area-inset-bottom));
        }
        .btn {
            border: none; border-radius: 6px; font-weight: 800; font-size: 11px; 
            color: #fff; cursor: pointer; display: flex; flex-direction: column; 
            align-items: center; justify-content: center; transition: 0.2s;
            background: #1a1a1a; position: relative; overflow: hidden;
        }
        .btn::after { content:''; position: absolute; width:100%; height:100%; background: linear-gradient(rgba(255,255,255,0.1), transparent); top:0; left:0; pointer-events: none; }
        .btn:active { transform: scale(0.95); }
        
        .btn-l-buy { border: 1px solid var(--neon-green); color: var(--neon-green); box-shadow: 0 0 5px rgba(0,255,157,0.2); }
        .btn-l-sell { border: 1px solid #333; color: #555; pointer-events: none; }
        .btn-s-buy { border: 1px solid var(--neon-pink); color: var(--neon-pink); box-shadow: 0 0 5px rgba(255,0,127,0.2); }
        .btn-s-sell { border: 1px solid #333; color: #555; pointer-events: none; }
        
        .active-btn { opacity: 1 !important; pointer-events: auto !important; background: #222 !important; border-color: #fff !important; color: #fff !important; }

        /* [7] ì§€ê°‘ ëª¨ë‹¬ */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 999; display: none;
            justify-content: center; align-items: center; backdrop-filter: blur(5px);
        }
        .wallet-card { width: 90%; max-height: 80%; background: #111; border: 1px solid var(--neon-pink); border-radius: 16px; display: flex; flex-direction: column; overflow: hidden; }
        .wallet-header { padding: 15px; background: rgba(255,0,127,0.1); border-bottom: 1px solid #333; display: flex; justify-content: space-between; align-items: center; }
        .wallet-title { font-size: 15px; font-weight: bold; color: var(--neon-pink); }
        .close-modal { background: none; border: none; color: #fff; font-size: 20px; cursor: pointer; }
        .history-list { flex: 1; overflow-y: auto; padding: 10px; color: #ddd; }
        .history-item { display: flex; justify-content: space-between; padding: 12px; border-bottom: 1px solid #222; font-size: 12px; }

        @keyframes heartbeat { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        @keyframes slideUp { from { transform: translateY(10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
    </style>
</head>
<body>

    <header>
        <div>
            <span class="seed-info">TOTAL EQUITY</span>
            <div>
                <span id="balance" class="seed-val">10,000</span>
                <span id="pnl-rate" class="pnl-rate" style="color:#666;">(0.00%)</span>
            </div>
        </div>
        <div id="price-display" class="live-price">Loading...</div>
    </header>

    <div class="system-zone">
        <button id="btn-auto" class="sys-btn" onclick="bot.toggleAuto()">
            <i class="fas fa-kiss-wink-heart"></i> <span id="auto-text">AI AUTO OFF</span>
        </button>
        <button id="btn-wallet" class="sys-btn" onclick="bot.openWallet()">
            <i class="fas fa-wallet"></i> MY WALLET
        </button>
    </div>

    <div id="lady-zone">
        <div class="lady-wrapper">
            <div id="msg-1" class="speech-bubble">96,500</div>
            <div id="face-1" class="lady-face" onclick="bot.action(1)">ğŸ’ƒ</div>
            <div class="lady-label">LONG</div>
        </div>
        <div class="lady-wrapper">
            <div id="msg-2" class="speech-bubble">+500</div>
            <div id="face-2" class="lady-face" onclick="bot.action(2)">ğŸ’‹</div>
            <div class="lady-label">PROFIT</div>
        </div>
        <div class="lady-wrapper">
            <div id="msg-3" class="speech-bubble">96,500</div>
            <div id="face-3" class="lady-face" onclick="bot.action(3)">ğŸ‘ </div>
            <div class="lady-label">SHORT</div>
        </div>
        <div class="lady-wrapper">
            <div id="msg-4" class="speech-bubble">+500</div>
            <div id="face-4" class="lady-face" onclick="bot.action(4)">ğŸ’</div>
            <div class="lady-label">PROFIT</div>
        </div>
    </div>

    <div id="tv_chart_container"></div>

    <div class="chat-room" id="chat-box">
        <div class="msg sys-msg">
            <div class="avatar">ğŸ’–</div>
            <div class="bubble">ì˜¤ë¹  ì•ˆë…•? ì‹œí¬ë¦¿ ë¼ìš´ì§€ì— ì˜¨ ê±¸ í™˜ì˜í•´! ğŸ˜˜</div>
        </div>
    </div>

    <div class="controls">
        <button id="btn-1" class="btn btn-l-buy" onclick="bot.action(1)">ğŸ’ƒ L-OPEN</button>
        <button id="btn-2" class="btn btn-l-sell" onclick="bot.action(2)">ğŸ’‹ L-CLOSE</button>
        <button id="btn-3" class="btn btn-s-buy" onclick="bot.action(3)">ğŸ‘  S-OPEN</button>
        <button id="btn-4" class="btn btn-s-sell" onclick="bot.action(4)">ğŸ’ S-CLOSE</button>
    </div>

    <div id="wallet-modal" class="modal-overlay">
        <div class="wallet-card">
            <div class="wallet-header">
                <div class="wallet-title">ğŸ’ SECRET LEDGER</div>
                <button class="close-modal" onclick="bot.closeWallet()">âœ•</button>
            </div>
            <div id="history-list" class="history-list">
                <div style="text-align:center; color:#555; padding:20px;">ë‚´ì—­ì´ ì—†ì–´ìš”, ì˜¤ë¹ .</div>
            </div>
        </div>
    </div>

    <script>
        new TradingView.widget({
            "autosize": true, "symbol": "BINANCE:BTCUSDT", "interval": "1", "timezone": "Asia/Seoul",
            "theme": "dark", "style": "1", "locale": "kr", "toolbar_bg": "#f1f3f6", "enable_publishing": false,
            "hide_top_toolbar": true, "container_id": "tv_chart_container",
            "disabled_features": ["use_localstorage_for_settings"], "enabled_features": ["hide_left_toolbar_by_default"]
        });

        class SexyBot {
            constructor() {
                this.startBalance = 10000;
                this.balance = 10000;
                this.position = null; 
                this.price = 0;
                this.isAuto = false;
                this.autoTimer = null;
                this.history = [];
                
                this.fetchPrice();
                setInterval(() => this.fetchPrice(), 500);
                setInterval(() => this.randomChatter(), 4000); // ì¡ë‹´ ì£¼ê¸° ì¡°ì ˆ
            }

            async fetchPrice() {
                try {
                    const res = await fetch('https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT');
                    const data = await res.json();
                    this.price = parseFloat(data.price);
                    this.updateHeader();
                } catch(e) {}
            }

            // AI ë ˆì´ë””ì˜ ë§í’ì„ 
            shout(id, text) {
                const bubble = document.getElementById(`msg-${id}`);
                bubble.innerText = text;
                bubble.classList.add('speaking');
                setTimeout(() => bubble.classList.remove('speaking'), 2000);
            }

            // ì±„íŒ…ì°½ ëŒ€í™”
            talk(text, type = 'lady') {
                const div = document.createElement('div');
                div.className = type === 'sys' ? 'msg sys-msg' : 'msg lady-msg';
                const avatar = type === 'sys' ? 'ğŸ””' : 'ğŸ‘©â€ğŸ¤';
                div.innerHTML = `<div class="avatar">${avatar}</div><div class="bubble">${text}</div>`;
                const box = document.getElementById('chat-box');
                box.appendChild(div);
                box.scrollTop = box.scrollHeight;
                if(box.children.length > 50) box.removeChild(box.firstChild);
            }

            // 10% ì´ìƒ ìˆ˜ìµ í„°ì§ˆ ë•Œ ì´í™íŠ¸
            popEffect(emoji) {
                const zone = document.getElementById('lady-zone');
                const el = document.createElement('div');
                el.className = 'effect-pop';
                el.innerText = emoji;
                el.style.left = (Math.random() * 80 + 10) + '%';
                el.style.top = (Math.random() * 50 + 20) + '%';
                zone.appendChild(el);
                setTimeout(() => el.remove(), 1000);
            }

            toggleAuto() {
                this.isAuto = !this.isAuto;
                const btn = document.getElementById('btn-auto');
                const txt = document.getElementById('auto-text');

                if (this.isAuto) {
                    btn.classList.add('auto-on');
                    txt.innerText = "AUTO LOVE ON";
                    this.talk("ì˜¤ë¹ , ì´ì œ ë‚´ê°€ ì•Œì•„ì„œ ë¶ˆë ¤ì¤„ê²Œ! ë¯¿ì–´ë´~ ğŸ˜˜");
                    this.autoTimer = setInterval(() => this.autoTradeLogic(), 3000);
                } else {
                    btn.classList.remove('auto-on');
                    txt.innerText = "AUTO OFF";
                    this.talk("ì¹˜.. ì˜¤ë¹ ê°€ ì§ì ‘ í•˜ë ¤êµ¬? ì•Œê² ì–´. ì§€ì¼œë³¼ê²Œ. ğŸ‘€");
                    clearInterval(this.autoTimer);
                }
            }

            autoTradeLogic() {
                if(this.price === 0) return;
                const r = Math.random();
                if (this.position) {
                    if (r > 0.7) { 
                        const actionId = this.position.type === 'LONG' ? 2 : 4;
                        this.action(actionId);
                    }
                } else {
                    if (r > 0.6) { 
                        const type = Math.random() > 0.5 ? 1 : 3;
                        this.action(type);
                    }
                }
            }

            action(id) {
                if(this.price === 0) return;

                if(id === 1) { 
                    if(this.position) return;
                    this.position = { type: 'LONG', entry: this.price, amount: this.balance };
                    this.shout(1, "ì§„ì…! ğŸ’–");
                    this.toggleBtns(true, 'LONG');
                    if(!this.isAuto) this.talk("ìê¸°ì•¼, ë¡±ìœ¼ë¡œ ê°€ëŠ”ê±°ì•¼? ëŠë‚Œ ì¢‹ì•„! ğŸš€");
                }
                else if(id === 2) { 
                    if(!this.position) return;
                    this.closePosition(2);
                }
                else if(id === 3) { 
                    if(this.position) return;
                    this.position = { type: 'SHORT', entry: this.price, amount: this.balance };
                    this.shout(3, "ë‚´ë ¤ê°€! ğŸ’¢");
                    this.toggleBtns(true, 'SHORT');
                    if(!this.isAuto) this.talk("ì˜¤ë¹  ì´‰ ë¯¿ì–´, ìˆìœ¼ë¡œ ì°ì–´ ëˆ„ë¥´ì! ğŸ‘ ");
                }
                else if(id === 4) { 
                    if(!this.position) return;
                    this.closePosition(4);
                }
            }

            closePosition(btnId) {
                const diff = (this.price - this.position.entry) / this.position.entry;
                const pnlRate = this.position.type === 'LONG' ? diff : -diff;
                const profit = this.position.amount * pnlRate;
                const roe = pnlRate * 100; // ìˆ˜ìµë¥  %
                
                this.balance += profit;
                const sign = profit > 0 ? "+" : "";
                
                // ìˆ˜ìµë¥  10% ì´ìƒ ëŒ€ë°• í„°ì¡Œì„ ë•Œ (ìš”ì²­ ê¸°ëŠ¥)
                if(roe >= 10.0) {
                    this.shout(btnId, `ëŒ€ë°•! +${Math.floor(profit)}`);
                    this.talk(`ì˜¤ë¹  ì§±ë©‹ì ¸! ${roe.toFixed(2)}%ë¼ë‹ˆ... ì‚¬ë‘í•´ìš”! íŒ ì£¼ì„¸ìš”ì‰~ ğŸ’–ğŸ’¸`);
                    // ì´í™íŠ¸ íŒ¡íŒ¡
                    for(let i=0; i<5; i++) setTimeout(() => this.popEffect(i%2==0?'ğŸ’–':'ğŸ’¸'), i*200);
                } 
                // ì¼ë°˜ ìµì ˆ
                else if (profit > 0) {
                    this.shout(btnId, `ìµì ˆ +${Math.floor(profit)}`);
                    this.talk(`ì˜í–ˆì–´ ìê¸°ì•¼! ${Math.floor(profit)}ë¶ˆ ë²Œì—ˆë„¤? ì¸„! ğŸ’‹`);
                } 
                // ì†ì ˆ
                else {
                    this.shout(btnId, `${Math.floor(profit)}`);
                    this.talk(`í... ì†ìƒí•´... ${Math.floor(profit)}ë¶ˆ ê¹Œì˜€ì–´... ì•ˆì•„ì¤˜ ğŸ˜­`);
                }

                this.addHistory(this.position.type, this.price, profit);
                this.position = null;
                this.toggleBtns(false);
                this.updateHeader();
            }

            toggleBtns(hasPos, type) {
                const b1 = document.getElementById('btn-1');
                const b2 = document.getElementById('btn-2');
                const b3 = document.getElementById('btn-3');
                const b4 = document.getElementById('btn-4');

                // ì´ˆê¸°í™”
                b1.className = "btn btn-l-buy"; 
                b2.className = "btn btn-l-sell"; 
                b3.className = "btn btn-s-buy"; 
                b4.className = "btn btn-s-sell"; 

                if(!hasPos) {
                    b1.classList.add('active-btn'); b3.classList.add('active-btn');
                } else {
                    if(type === 'LONG') b2.classList.add('active-btn');
                    else b4.classList.add('active-btn');
                }
            }

            updateHeader() {
                const elPrice = document.getElementById('price-display');
                elPrice.innerText = this.price.toLocaleString(undefined, {minimumFractionDigits: 2});
                
                if(this.position) {
                     const isWin = (this.position.type === 'LONG' && this.price > this.position.entry) || 
                                  (this.position.type === 'SHORT' && this.price < this.position.entry);
                     elPrice.style.color = isWin ? 'var(--neon-green)' : 'var(--neon-pink)';
                } else {
                    elPrice.style.color = 'var(--neon-blue)';
                }

                document.getElementById('balance').innerText = Math.floor(this.balance).toLocaleString();
                
                const totalPnl = this.balance - this.startBalance;
                const pnlPercent = (totalPnl / this.startBalance) * 100;
                const elRate = document.getElementById('pnl-rate');
                const sign = totalPnl >= 0 ? "+" : "";
                elRate.innerText = `(${sign}${pnlPercent.toFixed(2)}%)`;
                
                if(totalPnl > 0) elRate.style.color = 'var(--neon-green)';
                else if(totalPnl < 0) elRate.style.color = 'var(--neon-pink)';
                else elRate.style.color = '#888';
            }

            randomChatter() {
                const msgs = [
                    "ì˜¤ë¹ , ì°¨íŠ¸ ì¢€ ë´ë´. ì§€ê¸ˆ ë“¤ì–´ê°ˆ íƒ€ì´ë° ì•„ëƒ? ğŸ˜",
                    "ë‚˜ ì‹¬ì‹¬í•´... ë§¤ë§¤ ì¢€ í•´ì¤˜... ğŸ’•",
                    "ì˜¤ëŠ˜ ìˆ˜ìµë¥  ê¸°ëŒ€í•´ë„ ë¼? ì¹µí…Œì¼ í•œì” í•˜ê²Œ~ ğŸ¸",
                    "ì–´ë¨¸, ë°©ê¸ˆ ê·¸ ì–‘ë´‰ ë´¤ì–´? ì„¹ì‹œí•˜ë‹¤... ğŸ”¥",
                    "ìˆ ë²„íŠ¼ì´ ìê¾¸ ë‚  ìœ í˜¹í•˜ë„¤... ğŸ‘ ",
                    "ëˆ ë§ì´ ë²Œë©´ ë‚˜ ëª…í’ˆë°± ì‚¬ì¤„ê±°ì§€? ë†ë‹´~ ğŸ˜˜"
                ];
                if(Math.random() > 0.7) this.talk(msgs[Math.floor(Math.random() * msgs.length)]);
            }

            openWallet() { document.getElementById('wallet-modal').style.display = 'flex'; this.renderHistory(); }
            closeWallet() { document.getElementById('wallet-modal').style.display = 'none'; }

            addHistory(type, price, profit) {
                const now = new Date();
                const timeStr = `${now.getHours()}:${now.getMinutes()}`;
                this.history.unshift({ time: timeStr, type: type, price: price, profit: profit });
            }

            renderHistory() {
                const list = document.getElementById('history-list');
                if(this.history.length === 0) { list.innerHTML = "<div style='text-align:center;color:#555;padding:20px;'>ê±°ë˜ ë‚´ì—­ì´ ì—†ì–´ìš” ì˜¤ë¹ .</div>"; return; }
                let html = "";
                this.history.forEach(h => {
                    const color = h.profit > 0 ? 'var(--neon-green)' : (h.profit < 0 ? 'var(--neon-pink)' : '#fff');
                    const sign = h.profit > 0 ? '+' : '';
                    html += `<div class="history-item"><span>${h.time} ${h.type}</span><span style="color:${color};font-weight:bold">${sign}${Math.floor(h.profit)} $</span></div>`;
                });
                list.innerHTML = html;
            }
        }

        const bot = new SexyBot();
    </script>
</body>
</html>
